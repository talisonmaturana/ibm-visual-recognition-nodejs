(this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]=this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]||[]).push([[0],{15:function(e){e.exports=JSON.parse('{"b":"Watson Visual Recognition","a":"Artificial Intelligence Final Test"}')},17:function(e,t,a){},25:function(e){e.exports=JSON.parse('[{"url":"/images/classify/small/engine.jpg","alt":"engine"},{"url":"/images/classify/small/computer_chip.jpg","alt":"computer-chip"},{"url":"/images/classify/small/hamburger.png","alt":"hamburger"}]')},26:function(e){e.exports=JSON.parse('[{"classifier_id":"default","name":"default","classes":[{"class":"fabric","score":0.959},{"class":"gray color","score":0.946},{"class":"Harris Tweed (jacket)","score":0.87,"type_hierarchy":"/fabric/Harris Tweed (jacket)"},{"class":"clothing","score":0.8},{"class":"tweed","score":0.791,"type_hierarchy":"/fabric/tweed"},{"class":"garment","score":0.518},{"class":"overgarment","score":0.517},{"class":"coat","score":0.509},{"class":"Norfolk jacket","score":0.5,"type_hierarchy":"/garment/overgarment/coat/Norfolk jacket"}],"display":"General Model","description":"Quickly understand objects, actions, scenes, and colors within an image."}]')},30:function(e,t,a){e.exports=a(40)},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),s=(a(17),function(e){Object(n.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])}),l=a(42),o=function(e){var t=e.description,a=e.title;return r.a.createElement(l.b,{className:"header"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h2",{className:"header-title"},a),r.a.createElement("p",null,t)))};o.defaultProps={description:"",links:[],title:""};var u=o,m=a(14),d=a.n(m),p=a(21),f=a(4),g=function(e){var t=e.images,a=e.onClick;return t.map((function(e,t){return r.a.createElement("div",{key:t,className:"image-picker--section__tile"},r.a.createElement(l.a,{id:"tile-".concat(t),handleClick:function(){a(t)}},r.a.createElement("img",{className:"image-picker--section__image",src:e.url,alt:e.alt})))}))},E=function(e){var t=e.loadingMessage;return r.a.createElement("span",{className:"loader"},r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader-dots"}),t?r.a.createElement("div",{className:"loader-message"},r.a.createElement("p",{className:"ibm-type-a"},t)):null))};E.defaultProps={loadingMessage:null};var h=E,v=a(27),b=a(23),y=a.n(b),N=function(e){var t=e.onUpload;return r.a.createElement("div",{className:"image-picker--section__tile"},r.a.createElement(l.a,{id:"123",handleClick:function(){}},r.a.createElement(v.a,{multiple:!1,onDrop:function(e){t(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({},t(),{className:"upload-image"}),r.a.createElement("input",a()),r.a.createElement(y.a,null),r.a.createElement("p",{className:"upload-text"},"Select or drag an image"))}))))},w=function(e){var t=e.showLoader,a=e.viewerImage,n=e.pickerImages,c=e.onSelectTile,i=e.onUpload;return r.a.createElement("div",{className:"main-image-picker__container"},r.a.createElement("div",{className:"main-image-picker"},r.a.createElement("div",null,r.a.createElement("img",{className:"main-image-picker__image",src:a,alt:"main"}),t?r.a.createElement(h,null):null)),r.a.createElement("div",{className:"image-selection__container"},r.a.createElement("div",{className:"image-picker__tiles"},r.a.createElement(g,{images:n,onClick:function(e){c(e)}}),r.a.createElement(N,{onUpload:function(e){i(e)}}))))};w.defaultProps={viewerType:"image"};var j=w,k=function(e){var t=e.images,a=e.onSubmitImage,c=e.handleUnsupportedFormats,i=e.isClassifying,s="";t[0]&&t[0].url&&(s=t[0].url);var o=Object(n.useState)(s),u=Object(f.a)(o,2),m=u[0],d=u[1];return r.a.createElement(l.b,{className:"input-container"},r.a.createElement("h4",{className:"container-title"},"Images"),r.a.createElement(j,{showLoader:i,viewerImage:m,pickerImages:t,onSelectTile:function(e){!function(e){var n=t[e].url;a({image_file:n}),d(n)}(e)},onUpload:function(e){!function(e){var t=e[0];if(["image/gif","image/png","image/jpg","image/jpeg"].includes(t.type)){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;d(e),a({image_data:e})},n.readAsDataURL(t)}else c()}(e)}}),r.a.createElement("h4",{className:"container-footer"},"Select An Image to Analyze"))},S=a(47),_=a(43),O=a(44),C=a(46);function I(e){var t,a=e.progress;return r.a.createElement("div",{className:"bar-container"},r.a.createElement("div",{className:"bar-full"},r.a.createElement("div",{className:"bar",style:{width:"".concat((t=a,Math.abs(Math.round(100*t))),"%")}})),r.a.createElement("div",{className:"progress"},function(e){return(Math.round(100*e)/100).toFixed(2)}(a)))}I.defaultProps={progress:0};var P=I,T=a(24),D=a.n(T),x=function(e){var t=e.classifyResults,a=Object(n.useState)("table"),c=Object(f.a)(a,2),i=c[0],s=c[1];return r.a.createElement(l.b,{className:"output-container"},r.a.createElement("h3",{className:"output-container__title"},"Results"),r.a.createElement("div",{className:"output-container__control-panel"},r.a.createElement(S.a,{className:"output-container__content-switch",onChange:function(e){s(e.name)},selectedIndex:"table"===i?0:1},r.a.createElement(_.a,{name:"table",text:"Table"}),r.a.createElement(_.a,{name:"json",text:"JSON"}))),r.a.createElement(O.a,{legendText:"Result"},"table"===i?r.a.createElement(C.a,null,r.a.createElement("div",{className:"output-container__accordian-header"},r.a.createElement("p",null,"Top Classes"),r.a.createElement("p",null,"Score")),t.map((function(e){return r.a.createElement("div",{key:e.class,className:"output-container__accordian-item"},r.a.createElement("p",null,e.class),r.a.createElement(P,{progress:e.score}))}))):r.a.createElement(D.a,{name:!1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,collapsed:2,collapseStringsAfterLength:20,theme:"monokai",style:{lineHeight:"1.3em"},src:t})))};x.defaultProps={classifyResults:null};var B=x,R=a(45),A=function(e){var t=e.caption,a=e.children,c=e.className,i=e.hideAfterFirstDisplay,s=e.hideCloseButton,l=e.iconDescription,o=e.kind,u=e.lowContrast,m=e.onCloseButtonClick,d=e.role,p=e.subtitle,g=e.timeout,E=e.title,h=Object(n.useState)(),v=Object(f.a)(h,2),b=v[0],y=v[1],N=Object(n.useState)(!1),w=Object(f.a)(N,2),j=w[0],k=w[1];return Object(n.useEffect)((function(){y(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".custom-toast-".concat(b));e&&(e.className+="enter")}),[b]),Object(n.useEffect)((function(){i&&void 0!==typeof window&&void 0!==typeof window.localStorage&&"true"===window.localStorage.getItem("notificationHasBeenSeen")&&k(!0)}),[i]),j?null:r.a.createElement(R.a,{caption:t,className:"custom-toast-".concat(b," ").concat(c),hideCloseButton:s,iconDescription:l,kind:o,lowContrast:u,onCloseButtonClick:function(){i&&void 0!==typeof window&&void 0!==typeof window.localStorage&&window.localStorage.setItem("notificationHasBeenSeen","true"),m()},role:d,subtitle:p,timeout:g,title:E},a)};A.defaultProps={caption:"",children:null,className:"",hideAfterFirstDisplay:!0,hideCloseButton:!1,iconDescription:"closes notification",kind:"error",lowContrast:!1,onCloseButtonClick:function(){},role:"alert",subtitle:"",timeout:0,title:""};var F=A,J=a(25),M=a(26),U=function(){var e,t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(M),l=Object(f.a)(s,2),o=l[0],u=l[1],m=Object(n.useState)(null),g=Object(f.a)(m,2),E=g[0],h=g[1],v=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),fetch("/api/classify",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?h(e.error):u(e.result.images[0].classifiers)})).catch((function(e){h({title:e.message,description:e.message})})).finally((function(){return i(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"service-container"},r.a.createElement(F,{kind:"info",subtitle:"This system is for demonstration purposes only and is not intended to process Personal Data. No Personal Data is to be entered into this system as it may not have the necessary controls in place to meet the requirements of the General Data Protection Regulation (EU) 2016/679."}),E&&r.a.createElement(F,{kind:"error",title:E.title,subtitle:E.description,hideAfterFirstDisplay:!1,timeout:5e3,onCloseButtonClick:function(){return h(null)}}),r.a.createElement(k,{onSubmitImage:function(e){v(e)},isClassifying:c,images:J,handleUnsupportedFormats:function(){h({title:"Invalid file format:",description:"Only JPGs, PNGs, and GIFs are supported"})}}),r.a.createElement(B,{classifyResults:(e=o,e[0].classes.sort((function(e,t){return t.score-e.score})).slice(0,10))}))},G=a(15),H=function(){return s("https://cdn.jsdelivr.net/gh/watson-developer-cloud/watson-developer-cloud.github.io@master/analytics.js"),r.a.createElement("div",{className:"app-container"},r.a.createElement(u,{description:G.a,title:G.b}),r.a.createElement(U,null))};i.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.29df2e54.chunk.js.map